/*
+ Supremation
+ copyright Luke Shumard & Dave Donahue, licensed GPL & MIT
+ version 0.1

+ Documentation: xxx
+ GitHub: http://github.com/lukeshumard/supremation

+ lukeshumard.com
+ monowi.net

*/
(function($){$.fn.supremate=function(properties,speed,easing,callback){var element=this;duration=calcDuration(element,properties,speed);$(element).animate(properties,duration,easing,callback);function calcDuration(element,properties,speed){before=measurePosition(element);cloned=element.clone().insertBefore(element);element.hide();$.each(properties,function(key,value){var isRelative=value.substr(0,2);if(isRelative=="+="){value=value.replace(/[^a-zA-Z]+/,"");value=Math.abs(before[key]+value)}else{if(isRelative=="-="){value=value.replace(/[^a-zA-Z]+/,"");value=Math.abs(before[key]-value)}}cloned.css(key,value)});after=measurePosition(cloned);cloned.remove();element.show();distance=calcDistance(before,after);return distance/(speed/1000)}function calcDistance(elem1,elem2){var max=0;var distance=0;$.each(elem1,function(key,value){distance=Math.abs(elem1[key]-elem2[key]);max=(distance>max)?distance:max});return max}function measurePosition(elem){return{top:$(elem).offset().top,left:$(elem).offset().left,width:$(elem).width(),height:$(elem).height()}}}})(jQuery);